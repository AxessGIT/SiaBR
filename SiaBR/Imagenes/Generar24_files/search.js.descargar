$(function(){var i={q:"",type:"",price:"",style:"",license:"",is_explicit:"",is_featured:"",sort:""},o=[];$("#search-filters").on("change","input, select",function(){var e=$(this),t=e.parents("form").attr("action"),a=$("#search-filters").serializeObject(),n={name:e.attr("name"),value:e.val()};$.each(o,function(e,t){t.abort()}),$.each(a,function(e,t){Cookies.remove(e),a[e]==i[e]&&delete a[e]}),$(window).scrollTop(0),$("#search-results .icon-grid").html(templates.render("icons/_loading.html",{count:48})),o.push($.get(t,a,function(e){$("#search-results").replaceWith(e),$("title").text($("#search-title").text()),$(document).trigger("search.results"),$(window).trigger("scroll"),$('#search-results [data-toggle="tooltip"]').tooltip(),o.pop()})),ga("send","event","Settings","Filter "+n.name,n.value),$('.search-form [type="hidden"]').remove(),$.each(a,function(e,t){"q"!=e&&$("<input />",{type:"hidden",name:e,value:t}).appendTo(".search-form")}),history.pushState(a,null,"?"+$.param(a))}),$(window).on("popstate",function(){location.reload()}),$('[data-toggle="reset-filters"]').on("click",function(){$.each(i,function(e){Cookies.remove(e)})}),$(document).on("click","[data-filter]",function(){var e=$(this).data();$("#search-filters").find('[name="'+e.filter+'"][value="'+e.value+'"]').click(),$('[data-toggle="tooltip"]').tooltip("hide")}),$(document).on("click",'[data-filter="license"]',function(e){var t=$(this),a=t.data(),n=t.find('[data-title="license"]').text(),i=t.parents(".dropdown"),o=a.value;$('#search-filters [name="license"]').val(o).trigger("change"),i.find('.btn[data-toggle="dropdown"]').toggleClass("active",0<o.length),i.find('[data-toggle="dropdown"] [data-title="license"]').text(n),t.siblings().removeClass("active"),t.addClass("active"),e.preventDefault()}),$(document).on("click",'[data-filter="sort"]',function(e){var t=$(this),a=t.data(),n=$.trim(t.text()),i=t.parents(".dropdown");$('#search-filters [name="sort"]').val(a.value).trigger("change"),i.find('.btn[data-toggle="dropdown"]').toggleClass("active",0<a.value),i.find('[data-toggle="dropdown"] [data-title="sorting"]').text(function(){return 16<n.length&&(n=n.substring(0,13)+"..."),n}),t.siblings().removeClass("active"),t.addClass("active"),e.preventDefault()}),$(document).on("click",".icon-preview a",function(){var e=$(this),t=e.parents(".icon-preview"),a=($("#search-results .icon-preview"),t.index(".icon-preview")+1);ga("send","event","Search results",{"add-cart":"Add icon to cart",download:"Download icon","icon-details":"Open icon details",flag:"Open flag icon modal",bookmark:"Open bookmark icon modal"}[e.data("action")]||"Not set","Position in results",a)}),$(document).on("change","[data-setting]",function(e){$('#search-filters [name="q"]').trigger("change")}),$("[data-preview_size]").on("click",function(e){var t=$(this),a=t.data("preview_size");t.siblings(".active").removeClass("active"),t.addClass("active"),Cookies.set("preview_size",a),$("#search-results").length?$('#search-filters [name="q"]').trigger("change"):location.reload()}),$(".btn-group-styles").on("change",function(e){var t=$(e.target).val(),a=$('.dropdown-styles [data-toggle="dropdown"]'),n=$('.dropdown-styles [data-filter="style"][data-value="'+t+'"]'),i=0<n.length;$(".dropdown-styles .dropdown-item").removeClass("active"),a.toggleClass("pre-active active",i),n.toggleClass("active",i)}),$(".filters-toggle button").on("click",function(){$(this).find(".ui-icon").toggleClass("d-none"),$(".search-sidebar").toggleClass("d-none")})});
//# sourceMappingURL=https://www.iconfinder.com/static/js/search.js.map
